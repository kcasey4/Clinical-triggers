var mymap = L.map('mapid').setView([39.83, -98.58], 5);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
    maxZoom: 16
}).addTo(mymap);

function onLocationFound(e) {
    var radius = e.accuracy / 2;
    if (radius < 500) {
        L.marker(e.latlng).addTo(mymap)
            .bindTooltip("You are here!").openPopup();
    } else {
        alert("Your location accuracy is too low.");
    }
}

function onLocationError(e) {
    var errorMessage = e.message || "Unable to retrieve your location.";
    alert("Error: " + errorMessage);
}

mymap.on('locationfound', onLocationFound);
mymap.on('locationerror', onLocationError);

mymap.locate({ setView: false, maxZoom: 5, maximumAge: 0, enableHighAccuracy: true });

var blueIcon = L.icon({
    iconUrl: 'blue-pin.png',
    iconSize: [14, 14],
    iconAnchor: [16, 32],
    popupAnchor: [0, -32]
});

var legacyOfHopeMarker = L.marker([32.806671, -86.791130], { icon: blueIcon }).addTo(mymap);
legacyOfHopeMarker.bindPopup("<b>Legacy of Hope (red shaded counties)</b><br><img src='ALOB.jpeg' alt='Legacy of Hope' style='max-width: 700px;'>").on('click', function () {
    this.openPopup();
});

var donorNetworkWestMarker = L.marker([40.4396, -120.6498], { icon: blueIcon }).addTo(mymap);
donorNetworkWestMarker.bindPopup("<b>Donor Network West (red shaded counties)</b><br><img src='CADN.JPEG' alt='Donor Network West' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var bluePins = [
    { location: [32.7157, -117.1611], image: 'CASD.JPEG', label: 'Lifesharing - A Donate Life Organization (purple shaded counties)' },
];

var bluePinIcon = L.icon({
    iconUrl: 'blue-pin.png',
    iconSize: [14, 24],
    iconAnchor: [16, 32],
    popupAnchor: [0, -32]
});

var bluePinGroup = L.layerGroup().addTo(mymap);

for (var i = 0; i < bluePins.length; i++) {
    var bluePin = L.marker(bluePins[i].location, { icon: bluePinIcon }).addTo(bluePinGroup);
    bluePin.bindPopup("<b>" + bluePins[i].label + "</b><br><img src='" + bluePins[i].image + "' alt='" + bluePins[i].label + "' style='max-width: 400px;'>").on('click', function () {
        this.openPopup();
    });
}

var larimerMarker = L.marker([40.695557, -105.594338], { icon: blueIcon }).addTo(mymap);
larimerMarker.bindPopup("<b>Donor Alliance (red shaded counties in Colorado and Wyoming)</b><br><img src='CORS.JPG' alt='Donor Alliance' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

fetch('https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json')
    .then(function (response) {
        return response.json();
    })
    .then(function (data) {
        L.geoJSON(data, {
            style: function (feature) {
                var fipsCodesRed = [
                    "01001", "01003", "01005", "01007", "01009", "01011", "01013", "01015", "01017", "01019",
                    "01021", "01023", "01025", "01027", "01029", "01031", "01033", "01035", "01037", "01039",
                    "01041", "01043", "01045", "01047", "01049", "01051", "01053", "01055", "01057", "01059",
                    "01061", "01063", "01065", "01067", "01069", "01071", "01073", "01075", "01077", "01079",
                    "01081", "01083", "01085", "01087", "01089", "01091", "01093", "01095", "01097", "01099",
                    "01101", "01103", "01105", "01107", "01109", "01111", "01113", "01115", "01117", "01119",
                    "01121", "01123", "01125", "01127", "01129", "01131", "01133", "13053", "13215", "06001",
                    "06003", "06007", "06013", "06015", "06019", "06021", "06023", "06027", "06031", "06033",
                    "06035", "06039", "06041", "06043", "06045", "06047", "06049", "06051", "06053", "06055",
                    "06063", "06069", "06075", "06077", "06079", "06081", "06085", "06087", "06089", "06093",
                    "06095", "06097", "06099", "06103", "06105", "06107", "06109", "32510", "32001", "32005",
                    "32013", "32021", "32031", "06025", "06073", "08001", "08003", "08005", "08007", "08009",
                    "08011", "08013", "08014", "08015", "08017", "08019", "08021", "08023", "08025", "08027",
                    "08029", "08031", "08033", "08035", "08037", "08041", "08039", "08043", "08045", "08047",
                    "08049", "08051", "08053", "08055", "08057", "08059", "08061", "08063", "08067", "08065",
                    "08069", "08071", "08073", "08075", "08077", "08079", "08081", "08083", "08085", "08087",
                    "08089", "08091", "08093", "08095", "08097", "08099", "08101", "08103", "08105", "08107",
                    "08109", "08111", "08113", "08115", "08117", "08119", "08121", "08123", "08125", "56001",
                    "56003", "56005", "56007", "56009", "56011", "56013", "56015", "56017", "56019", "56021",
                    "56025", "56027", "56029", "56031", "56033", "56035", "56039", "56043", "56045", "12009", 
                    "12035", "12061", "12069", "12093", "12095", "12097", "12117", "12119", "12127", "05091", 
                    "48001", "48007", "48009", "48023", "48025", "48027", "48035", "48037", "48041", "48043", 
                    "48049", "48059", "48063", "48067", "48073", "48077", "48083", "48085", "48093", "48097", 
                    "48099", "48103", "48105", "48109", "48113", "48119", "48121", "48133", "48135", "48141", 
                    "48139", "48145", "48147", "48159", "48161", "48167", "48175", "48181", "48183", "48199", 
                    "48203", "48213", "48217", "48223", "48229", "48231", "48237", "48245", "48249", "48257", 
                    "48273", "48277", "48289", "48293", "48301", "48315", "48329", "48333", "48337", "48343", 
                    "48349", "48355", "48361", "48365", "48371", "48379", "48383", "48387", "48389", "48391", 
                    "48395", "48397", "48401", "48409", "48413", "48423", "48429", "48431", "48441", "48449", 
                    "48459", "48461", "48467", "48469", "48475", "48485", "48495", "48499", "48503", "37053", 
                    "51001", "51003", "51005", "51007", "51009", "51011", "51015", "51017", "51019", "51021", 
                    "51023", "51025", "51029", "51530", "51031", "51033", "51035", "51036", "51037", "51540", 
                    "51550", "51041", "51570", "51580", "51045", "51047", "51049", "51053", "51595", "51057", 
                    "51063", "51065", "51620", "51067", "51069", "51630", "51640", "51071", "51073", "51075", 
                    "51077", "51079", "51081", "51083", "51650", "51085", "51660", "51087", "51089", "51091", 
                    "51670", "51093", "51095", "51678", "51109", "51111", "51680", "51113", "51690", "51115", 
                    "51117", "51119", "51121", "51125", "51127", "51700", "51710", "51131", "51133", "51135", 
                    "51137", "51139", "51141", "51730", "51735", "51740", "51145", "51147", "51149", "51155", 
                    "51750", "51157", "51760", "51159", "51770", "51161", "51163", "51165", "51775", "51171", 
                    "51175", "51179", "51790", "51800", "51181", "51183", "51187", "51810", "51193", "51820", 
                    "51830", "51840", "51197", "51199", "54003", "54037", "54065", "04001", "04003", "04005", 
                    "04007", "04009", "04011", "04012", "04013", "04015", "04017", "04019", "04021", "04023", 
                    "04025", "04027", "05021", "05031", "05055", "05063", "05075", "17003", "17005", "17027", 
                    "17047", "17055", "17059", "17065", "17069", "17077", "17081", "17083", "17087", "17119", 
                    "17121", "17127", "17133", "17145", "17151", "17153", "17157", "17165", "17163", "17181", 
                    "17185", "17189", "17191", "17193", "17199", "29017", "29023", "29031", "29035", "29043", 
                    "29045", "29055", "29065", "29069", "29071", "29073", "29077", "29091", "29093", "29099", 
                    "29103", "29111", "29113", "29123", "29125", "29127", "29133", "29137", "29139", "29143", 
                    "29149", "29151", "29155", "29157", "29161", "29163", "29167", "29173", "29179", "29181", 
                    "29199", "29201", "29203", "29205", "29183", "29187", "29186", "29510", "29189", "29207", 
                    "29213", "29215", "29219", "29221", "29223", "29225", "17201", "26003", "26041", "26083", 
                    "26103", "26109", "26131", "27055", "55001", "55003", "55005", "55007", "55009", "55011", 
                    "55013", "55017", "55019", "55021", "55023", "55025", "55027", "55033", "55035", "55037",
                    "55039", "55041", "55043", "55045", "55047", "55049", "55051", "55053", "55055", "55057", 
                    "55061", "55063", "55065", "55067", "55069", "55073", "55075", "55077", "55078", "55081", 
                    "55083", "55085", "55087", "55091", "55095", "55097", "55099", "55103", "55105", "55107", 
                    "55111", "55113", "55115", "55119", "55121", "55123", "55125", "55129", "55135", "55137", 
                    "55139", "55141", "39003", "39011", "39023", "39037", "39039", "39051", "39057", "39063", 
                    "39069", "39077", "39095", "39107", "39109", "39113", "39123", "39125", "39135", "39137", 
                    "39143", "39147", "39149", "39161", "25003", "36001", "36007", "36019", "36021", "36025", 
                    "36027", "36031", "36033", "36035", "36039", "36041", "36043", "36057", "36065", "36077", 
                    "36083", "36091", "36093", "36095", "36089", "36105", "36107", "36111", "36113", "36115", 
                    "50001", "50003", "50007", "50011", "50013", "50015", "50021", "39171", "39173", "51103",
                    "51101", "51097"
                ];

                var fipsCodesPurple = [
                    "06025", "06073", "27001", "27003", "27005", "27007", "27009", "27011", "27013", "27015", 
                    "27017", "27019", "27021", "27023", "27025", "27027", "27029", "27031", "27033", "27035", 
                    "27037", "27039", "27041", "27043", "27045", "27047", "27049", "27051", "27053", "27057", 
                    "27059", "27061", "27063", "27065", "27067", "27069", "27071", "27073", "27075", "27077", 
                    "27079", "27081", "27083", "27085", "27087", "27089", "27091", "27093", "27095", "27097", 
                    "27099", "27101", "27103", "27105", "27107", "27109", "27111", "27113", "27115", "27117", 
                    "27119", "27121", "27123", "27125", "27127", "27129", "27131", "27133", "27135", "27137", 
                    "27139", "27141", "27143", "27145", "27147", "27149", "27151", "27153", "27155", "27157", 
                    "27159", "27161", "27163", "27165", "27167", "27169", "27171", "27173", "27137", "38001", 
                    "38003", "38005", "38007", "38009", "38011", "38013", "38015", "38017", "38019", "38021", 
                    "38023", "38025", "38027", "38029", "38031", "38033", "38035", "38037", "38039", "38041", 
                    "38043", "38045", "38047", "38049", "38051", "38053", "38055", "38057", "38059", "38061", 
                    "38063", "38065", "38067", "38069", "38071", "38073", "38075", "38077", "38079", "38081", 
                    "38083", "38085", "38087", "38089", "38091", "38093", "38095", "38097", "38099", "38101", 
                    "38103", "38105", "46003", "46005", "46007", "46009", "46011", "46013", "46015", "46017", 
                    "46019", "46021", "46023", "46025", "46027", "46029", "46031", "46033", "46035", "46037", 
                    "46039", "46041", "46043", "46045", "46047", "46049", "46051", "46053", "46055", "46057", 
                    "46059", "46061", "46063", "46065", "46067", "46069", "46071", "46073", "46075", "46077", 
                    "46079", "46081", "46083", "46085", "46087", "46089", "46091", "46087", "46089", "46093", 
                    "46095", "46097", "46099", "46101", "46102", "46103", "46105", "46107", "46109", "46111", 
                    "46115", "46117", "46119", "46121", "46123", "46125", "46127", "46129", "46135", "46137", 
                    "55031", "55093", "55109", "16005", "16007", "16011", "16013", "16019", "16023", "16025", 
                    "16029", "16031", "16033", "16037", "16039", "16041", "16043", "16047", "16051", "16053", 
                    "16063", "16065", "16067", "16071", "16073", "16077", "16081", "16083", "32007", "49001", 
                    "49003", "49005", "49007", "49009", "49011", "49013", "49015", "49017", "49019", "49021", 
                    "49023", "49025", "49027", "49029", "49031", "49033", "49035", "49037", "49039", "49041", 
                    "49043", "49045", "49047", "49049", "49051", "49053", "49055", "49057", "56023", "56037", 
                    "56041", "13047", "13083", "13295", "21047", "47001", "47003", "47005", "47007", "47009", 
                    "47011", "47013", "47015", "47019", "47021", "47023", "47025", "47027", "47029", "47031", 
                    "47033", "47035", "47037", "47039", "47041", "47043", "47049", "47051", "47053", "47055", 
                    "47057", "47059", "47061", "47063", "47065", "47067", "47071", "47073", "47079", "47081", 
                    "47083", "47085", "47087", "47089", "47091", "47093", "47099", "47101", "47103", "47105", 
                    "47111", "47113", "47115", "47117", "47119", "47107", "47109", "47121", "47123", "47125", 
                    "47127", "47129", "47133", "47135", "47137", "47139", "47141", "47143", "47145", "47147", 
                    "47149", "47151", "47153", "47155", "47159", "47161", "47163", "47165", "47169", "47171", 
                    "47173", "47175", "47177", "47179", "47181", "47183", "47185", "47187", "47189", "51520", 
                    "51027", "51051", "51105", "51720", "51167", "51169", "51173", "51185", "51191", "51195",
                    "40001", "40003", "40005", "40007", "40009", "40011", "40013", "40015", "40017", "40019", 
                    "40021", "40023", "40025", "40027", "40029", "40031", "40033", "40035", "40037", "40039", 
                    "40041", "40043", "40045", "40047", "40049", "40051", "40053", "40055", "40057", "40059", 
                    "40061", "40063", "40065", "40067", "40069", "40071", "40073", "40075", "40077", "40079", 
                    "40081", "40083", "40085", "40093", "40095", "40097", "40087", "40089", "40091", "40099", 
                    "40101", "40103", "40105", "40107", "40109", "40111", "40113", "40115", "40117", "40119", 
                    "40121", "40123", "40125", "40127", "40129", "40131", "40133", "40135", "40137", "40139", 
                    "40141", "40143", "40145", "40147", "40149", "40151", "40153", "22001", "22003", "22005", 
                    "22007", "22009", "22011", "22013", "22015", "22017", "22019", "22021", "22023", "22025", 
                    "22027", "22029", "22031", "22033", "22035", "22037", "22039", "22041", "22043", "22045", 
                    "22047", "22049", "22053", "22051", "22059", "22055", "22057", "22061", "22063", "22065", 
                    "22067", "22069", "22071", "22073", "22075", "22077", "22079", "22081", "22083", "22085", 
                    "22087", "22089", "22091", "22093", "22095", "22097", "22099", "22101", "22103", "22105", 
                    "22107", "22109", "22111", "22113", "22115", "22117", "22119", "22121", "22123", "22125", 
                    "22127", "12015", "12027", "12043", "12049", "12051", "12053", "12055", "12057", "12071", 
                    "12081", "12085", "12101", "12103", "12105", "12115", "18001", "18003", "18005", "18007", 
                    "18009", "18011", "18013", "18015", "18017", "18021", "18023", "18025", "18027", "18031", 
                    "18033", "18035", "18037", "18039", "18041", "18045", "18047", "18049", "18051", "18053", 
                    "18055", "18057", "18059", "18063", "18065", "18067", "18069", "18071", "18073", "18075", 
                    "18077", "18079", "18081", "18083", "18085", "18087", "18091", "18093", "18095", "18097", 
                    "18099", "18101", "18103", "18105", "18107", "18109", "18111", "18113", "18117", "18119", 
                    "18121", "18123", "18125", "18127", "18129", "18131", "18133", "18135", "18137", "18139", 
                    "18145", "18147", "18141", "18149", "18151", "18153", "18155", "18157", "18159", "18161", 
                    "18163", "18165", "18167", "18169", "18171", "18173", "18175", "18177", "18179", "18181", 
                    "18183", "21101", "36005", "36027", "36047", "36059", "36061", "36071", "36079", "36081", 
                    "36085", "36087", "36103", "36119", "42103", "36011", "36015", "36017", "36023", "36045", 
                    "36049", "36051", "36053", "36055", "36065", "36067", "36069", "36075", "36097", "36099", 
                    "36089", "36101", "36109", "36117", "36123", "06005", "06009", "06011", "06017", "06057", 
                    "06061", "06067", "06091", "06095", "06097", "06101", "06113", "06115"
                ];

                var fipsCodesGreen = [
                    "02195", "02013", "02016", "02020", "02050", "02060", "02068", "02070", "02090", "02100", 
                    "02110", "02122", "02130", "02150", "02158", "02164", "02170", "02180", "02185", "02188",
                    "02198", "02220", "02230", "02240", "02261", "02275", "02282", "02290", "16009", "16017",
                    "16021", "16035", "16049", "16055", "16057", "16059", "16061", "16069", "16079", "30001",
                    "30003", "30005", "30007", "30009", "30011", "30013", "30015", "30017", "30019", "30021",
                    "30023", "30025", "30027", "30029", "30031", "30033", "30035", "30037", "30039", "30041",
                    "30043", "30045", "30047", "30049", "30051", "30053", "30057", "30055", "30059", "30061",
                    "30063", "30065", "30067", "30069", "30071", "30073", "30075", "30077", "30079", "30081",
                    "30083", "30085", "30087", "30089", "30091", "30093", "30095", "30097", "30099", "30101",
                    "30103", "30105", "30107", "30109", "30111", "53001", "53003", "53005", "53007", "53009",
                    "53013", "53017", "53019", "53021", "53023", "53025", "53027", "53029", "53031", "53033",
                    "53035", "53037", "53039", "53041", "53043", "53045", "53047", "53049", "53051", "53053",
                    "53055", "53057", "53061", "53063", "53065", "53067", "53069", "53073", "53075", "53077",
                    "48013", "48019", "48021", "48027", "48029", "48031", "48047", "48051", "48053", "48055", 
                    "48061", "48091", "48123", "48127", "48131", "48137", "48149", "48163", "48171", "48177", 
                    "48187", "48209", "48215", "48247", "48255", "48259", "48261", "48265", "48267", "48271", 
                    "48283", "48281", "48287", "48297", "48299", "48319", "48323", "48307", "48309", "48311", 
                    "48325", "48327", "48331", "48385", "48411", "48427", "48435", "48451", "48453", "48463", 
                    "48465", "48479", "48489", "48491", "48493", "48505", "48507", "02105", "20001", "20003", 
                    "20005", "20007", "20009", "20011", "20013", "20015", "20017", "54047", "26149", "20019", 
                    "20021", "20023", "20025", "20027", "20029", "20031", "20033", "20035", "20037", 
                    "20039", "20041", "20043", "20045", "20047", "20049", "20051", "20053", "20055", "20057", 
                    "20059", "20061", "20063", "20065", "20067", "20069", "20071", "20073", "20075", "20077",
                    "20079", "20081", "20083", "20085", "20087", "20089", "20091", "20093", "20095", "20097", 
                    "20099", "20101", "20103", "20105", "20107", "20109", "20111", "20113", "20115", "20117", 
                    "20119", "20121", "20123", "20125", "20127", "20129", "20131", "20133", "20135", "20137", 
                    "20139", "20141", "20143", "20145", "20147", "20149", "20151", "20153", "20155", "20157", 
                    "20159", "20161", "20163", "20165", "20167", "20169", "20171", "20173", "20175", "20177", 
                    "20179", "20181", "20183", "20185", "20187", "20189", "20191", "20193", "20195", "20197", 
                    "20199", "20201", "20203", "20205", "20207", "20209", "29001", "29003", "29005", "29007", 
                    "29009", "29011", "29013", "29015", "29019", "29021", "29025", "29027", "29029", "29033", 
                    "29037", "29039", "29041", "29047", "29049", "29051", "29053", "29057", "29059", "29061", 
                    "29063", "29067", "29075", "29079", "29081", "29083", "29085", "29087", "29089", "29095", 
                    "29097", "29101", "29105", "29107", "29109", "29115", "29117", "20113", "20119", "20121", 
                    "20123", "20125", "20127", "20129", "20131", "20133", "20135", "20137", "20139", "20141", 
                    "20143", "20145", "20147", "20149", "20151", "20153", "20155", "20157", "20159", "20161", 
                    "20163", "20165", "20167", "20169", "20171", "20173", "20175", "20177", "20179", "20181", 
                    "20183", "20185", "20187", "20189", "20191", "20193", "20195", "20197", "20199", "20201", 
                    "20203", "20205", "20207", "20209", "29001", "29003", "29005", "29007", "29009", "29011", 
                    "29013", "29015", "29019", "29021", "29025", "29027", "29029", "29033", "29037", "29039", 
                    "29041", "29047", "29049", "29051", "29053", "29057", "29059", "29061", "29063", "29067", 
                    "29075", "29079", "29081", "29083", "29085", "29087", "29089", "29095", "29097", "29101", 
                    "29105", "29107", "29109", "29115", "29117", "29121", "29119", "29129", "29131", "29135", 
                    "29141", "29145", "29147", "29153", "29159", "29165", "29169", "29171", "29175", "29177", 
                    "29195", "29197", "29185", "29209", "29211", "29217", "29227", "29229", "35001", "35003", "35005", "35006", "35007", "35009", 
                    "35011", "35013", "35015", "35017", "35019", "35021", "35023", "35025", "35027", "35028", 
                    "35029", "35031", "35033", "35035", "35037", "35039", "35041", "35045", "35047", "35043",
                    "35049", "35051", "35053", "35055", "35057", "35059", "35061", "12001", "12003", "12005", 
                    "12007", "12013", "12017", "12019", "12023", "12029", "12031", "12033", "12037", "12039", 
                    "12041", "12045", "12047", "12059", "12063", "12065", "12067", "12073", "12075", "12077", 
                    "12079", "12083", "12089", "12091", "12107", "12113", "12109", "12121", "12123", "12125", 
                    "12129", "12131", "12133", "45001", "45005", "45007", "45009", "45011", "45013", "45015", 
                    "45017", "45019", "45021", "45023", "45025", "45027", "45029", "45031", "45033", "45035", 
                    "45039", "45041", "45043", "45045", "45047", "45049", "45051", "45053", "45055", "45057", 
                    "45059", "45061", "45063", "45065", "45067", "45069", "45071", "45073", "45075", "45077", 
                    "45079", "45081", "45083", "45085", "45087", "45089", "45091", "04015", "32001", "32003", 
                    "32005", "32007", "32009", "32011", "32013", "32015", "32017", "32019", "32021", "32023", 
                    "32027", "32029", "32033", "05035", "05037", "05077", "05093", "05107", "05123", "28003", 
                    "28009", "28011", "28017", "28025", "28027", "28033", "28071", "28087", "28093", "28107", 
                    "28115", "28117", "28119", "28137", "28139", "28141", "28143", "28145", "47017", "47045", 
                    "47047", "47069", "47075", "47077", "47095", "47097", "47131", "47157", "47167",
                    "26001", "26005", "26007", "26009", "26011", "26013", "26015", "26017", "26019", 
                    "26021", "26023", "26025", "26027", "26029", "26031", "26033", "26035", "26037", 
                    "26039", "26043", "26045", "26047", "26049", "26051", "26053", "26055", "26057", 
                    "26059", "26061", "26063", "26065", "26067", "26069", "26071", "26073", "26075", 
                    "26077", "26079", "26081", "26085", "26087", "26089", "26091", "26093", "26095", 
                    "26097", "26099", "26101", "26103", "26105", "26107", "26111", "26113", "26115", 
                    "26117", "26119", "26121", "26123", "26125", "26127", "26129", "26133", "26135", 
                    "26137", "26139", "26141", "26143", "26145", "26151", "26153", "26155", "26157", "26159", 
                    "26161", "26163", "26165", 
                    "18029", "18115", "21015", "21037", "21077", "21081", "21117", "21191", "39001", "39015", 
                    "39017", "39025", "39027", "39061", "39071", "39165", "36015", "42003", "42005", "42007", 
                    "42009", "42013", "42015", "42019", "42021", "42023", "42031", "42033", "42039", "42047", 
                    "42049", "42051", "42053", "42055", "42057", "42059", "42061", "42063", "42065", "42073", 
                    "42083", "42085", "42105", "42111", "42121", "42123", "42125", "42129", "54001", "54005", 
                    "54007", "54009", "54013", "54015", "54017", "54019", "54021", "54023", "54025", "54027", 
                    "54029", "54031", "54033", "54035", "54039", "54041", "54043", "54045", "54049", "54051", 
                    "54053", "54055", "54057", "54059", "54061", "54063", "54065", "54067", "54069", "54071", 
                    "54073", "54075", "54077", "54079", "54081", "54083", "54085", "54087", "54089", "54091", 
                    "54093", "54095", "54097", "54101", "54103", "54105", "54109", 
                    "34003", "34007", "34013", "34017", "34019", "34021", "34023", "34025", "34027", "34029", 
                    "34031", "34035", "34037", "34039", "34041"
                ];

                var fipsCodesOrange = [
                    "48003", "48005", "48011", "48015", "48017", "48033", "48039", "48045", "48057", "48065", 
                    "48069", "48071", "48075", "48079", "48081", "48087", "48089", "48095", "48101", "48107", 
                    "48111", "48115", "48117", "48125", "48129", "48143", "48151", "48153", "48155", "48157",
                    "48165", "48169", "48173", "48179", "48185", "48189", "48191", "48193", "48195", "48197", 
                    "48201", "48205", "48207", "48211", "48219", "48221", "48225", "48227", "48233", "48235", 
                    "48239", "48241", "48243", "48251", "48253", "48263", "48269", "48275", "48279", "48285", 
                    "48291", "48295", "48303", "48305", "48313", "48317", "48321", "48335", "48339", "48341", 
                    "48345", "48347", "48351", "48353", "48357", "48359", "48363", "48367", "48369", "48373", 
                    "48375", "48377", "48381", "48393", "48399", "48403", "48405", "48407", "48415", "48417", 
                    "48419", "48421", "48425", "48433", "48437", "48439", "48443", "48445", "48447", "48455", 
                    "48457", "48471", "48473", "48477", "48481", "48483", "48487", "48497", "48501", "06029", 
                    "06037", "06059", "06065", "06071", "06083", "06111", "36003", "36009", "36013", "36029", 
                    "36037", "36063", "36073", "36121", "16001", "16003", "16015", "16027", "16045", "16075", 
                    "16085", "16087", "41001", "41003", "41005", "41007", "41009", "41011", "41013", "41015", 
                    "41017", "41019", "41021", "41023", "41025", "41027", "41029", "41031", "41033", "41035", 
                    "41037", "41039", "41041", "41043", "41045", "41047", "41049", "41051", "41053", "41055", 
                    "41057", "41059", "41061", "41063", "41065", "41067", "41069", "41071", "53011", "53015", 
                    "53059", "53071", "17001", "17007", "17009", "17011", "17013", "17015", "17017", "17019", 
                    "17021", "17023", "17025", "17029", "17031", "17033", "17035", "17037", "17039", "17041", 
                    "17043", "17045", "17049", "17051", "17053", "17057", "17061", "17063", "17067", "17071", 
                    "17073", "17075", "17079", "17085", "17089", "17091", "17093", "17095", "17099", "17097", 
                    "17101", "17103", "17105", "17107", "17115", "17117", "17123", "17125", "17109", "17111", 
                    "17113", "17129", "17131", "17135", "17137", "17139", "17141", "17143", "17147", "17149", 
                    "17155", "17159", "17161", "17167", "17169", "17171", "17173", "17175", "17177", "17179", 
                    "17183", "17187", "17195", "17197", "17201", "17203", "18089", "18127", "19163", "13001", 
                    "13003", "13005", "13007", "13009", "13011", "13013", "13015", "13017", "13019", "13021", 
                    "13023", "13025", "13027", "13029", "13031", "13033", "13035", "13037", "13039", "13043", 
                    "13045", "13047", "13049", "13051", "13055", "13057", "13059", "13061", "13063", "13065", 
                    "13067", "13069", "13071", "13073", "13075", "13077", "13079", "13081", "13083", "13085", 
                    "13087", "13089", "13091", "13093", "13095", "13097", "13099", "13101", "13103", "13105", 
                    "13107", "13109", "13111", "13113", "13115", "13117", "13119", "13121", "13123", "13125", 
                    "13127", "13129", "13131", "13133", "13135", "13137", "13139", "13141", "13143", "13145", 
                    "13147", "13149", "13151", "13153", "13155", "13157", "13159", "13161", "13163", "13165", 
                    "13167", "13169", "13171", "13173", "13175", "13177", "13179", "13181", "13183", "13185", 
                    "13187", "13189", "13191", "13193", "13195", "13197", "13189", "13201", "13205", "13207", 
                    "13209", "13211", "13213", "13215", "13217", "13219", "13221", "13223", "13225", "13227", 
                    "13229", "13231", "13233", "13235", "13237", "13239", "13241", "13243", "13245", "13247", 
                    "13249", "13251", "13253", "13255", "13257", "13259", "13261", "13263", "13265", "13267", 
                    "13269", "13271", "13273", "13275", "13277", "13279", "13281", "13283", "13285", "13287", 
                    "13289", "13291", "13293", "13295", "13297", "13299", "13301", "13303", "13305", "13307", 
                    "13309", "13311", "13313", "13315", "13317", "13319", "13321", "45003", "45037", "31001", 
                    "31003", "31005", "31007", "31009", "31011", "31013", "31015", "31017", "31019", "31021", 
                    "31023", "31025", "31027", "31029", "31031", "31033", "31035", "31037", "31039", "31041", 
                    "31045", "31047", "31049", "31051", "31053", "31055", "31057", "31059", "31061", "31063", 
                    "31065", "31067", "31069", "31071", "31073", "31075", "31077", "31079", "31081", "31083", 
                    "31085", "31087", "31089", "31091", "31093", "31095", "31097", "31099", "31101", "31103", 
                    "31105", "31107", "31109", "31111", "31113", "31115", "31117", "31119", "31121", "31123", 
                    "31125", "31127", "31129", "31131", "31133", "31135", "31137", "31139", "31141", "31143", 
                    "31145", "31147", "31149", "31151", "31153", "31155", "31157", "31159", "31161", "31163", 
                    "31165", "31167", "31169", "31171", "31173", "31175", "31177", "31179", "31181", "31183", 
                    "31185", "28001", "28005", "28007", "28013", "28015", "28017", "28019", "28021", "28023", 
                    "28025", "28029", "28031", "28035", "28037", "28039", "28041", "28043", "28045", "28047", 
                    "28049", "28051", "28053", "28055", "28057", "28059", "28061", "28063", "28065", "28067", 
                    "28069", "28073", "28075", "28077", "28079", "28081", "28083", "28085", "28089", "28091", 
                    "28095", "28097", "28099", "28101", "28103", "28105", "28109", "28111", "28113", "28115", 
                    "28121", "28123", "28125", "28127", "28129", "28131", "28133", "28135", "28141", "28147", 
                    "28149", "28151", "28153", "28155", "28157", "28159", "28161", "28163", "12011", "12021", 
                    "12085", "12086", "12087", "12099", "12111", "37001", "37003", "37005", "37009", "37011", 
                    "37013", "37015", "37017", "37019", "37027", "37029", "37031", "37033", "37035", "37037", 
                    "37041", "37047", "37049", "37051", "37055", "37057", "37059", "37061", "37063", "37065", 
                    "37067", "37069", "37073", "37077", "37079", "37081", "37083", "37085", "37091", "37093", 
                    "37095", "37097", "37101", "37103", "37105", "37107", "37111", "37117", "37121", "37123", 
                    "37125", "37127", "37129", "37131", "37133", "37135", "37137", "37139", "37141", "37143", 
                    "37145", "37147", "37151", "37153", "37155", "37157", "37159", "37163", "37165", "37169", 
                    "37171", "37177", "37181", "37183", "37185", "37187", "37189", "37191", "37193", "37195", 
                    "37197", "37199", "51590", "51143", "39003", "39009", "39013", "39021", "39031", "39033", 
                    "39041", "39045", "39047", "39049", "39053", "39059", "39065", "39071", "39073", "39079", 
                    "39081", "39083", "39089", "39091", "39097", "39101", "39105", "39111", "39115", "39117", 
                    "39119", "39121", "39127", "39129", "39131", "39139", "39141", "39145", "39159", "39163", 
                    "39167", "39175", "54009", "54029", "54051", "54069", "54107", "10001", "10003", "10005", 
                    "34001", "34005", "34007", "34009", "34011", "34015", "34029", "34033", "42001", "42011", 
                    "42015", "42017", "42025", "42027", "42029", "42035", "42037", "42041", "42043", "42045", 
                    "42055", "42067", "42069", "42071", "42075", "42077", "42079", "42081", "42087", "42089", 
                    "42091", "42093", "42095", "42097", "42099", "42101", "42107", "42109", "42113", "42115", 
                    "42117", "42119", "42127", "42131", "42133", "13199"
                ];

                var fipsCodesMaroon = [
                    "05001", "05003", "05005", "05007", "05009", "05011", "05013", "05015", "05017", "05019", 
                    "05023", "05025", "05027", "05029", "05033", "05039", "05041", "05043", "05045", "05047", 
                    "05049", "05051", "05053", "05057", "05059", "05061", "05063", "05065", "05067", "05069", 
                    "05071", "05073", "05079", "05081", "05083", "05085", "05087", "05089", "05095", "05097", 
                    "05099", "05101", "05103", "05105", "05109", "05111", "05113", "05115", "05117", "05119", 
                    "05121", "05125", "05127", "05129", "05131", "05133", "05135", "05137", "05139", "05141", 
                    "05143", "05145", "05147", "05149", "19001", "19003", "19005", "19007", "19009", "19011", 
                    "19013", "19015", "19017", "19019", "19021", "19023", "19025", "19027", "19029", "19031", 
                    "19033", "19035", "19037", "19039", "19041", "19043", "19045", "19047", "19049", "19051", 
                    "19053", "19055", "19057", "19059", "19061", "19063", "19065", "19067", "19069", "19071", 
                    "19073", "19075", "19077", "19079", "19081", "19083", "19085", "19087", "19089", "19091", 
                    "19093", "19095", "19097", "19099", "19101", "19103", "19105", "19107", "19109", "19111", 
                    "19113", "19115", "19117", "19119", "19121", "19123", "19125", "19127", "19129", "19131", 
                    "19133", "19135", "19137", "19139", "19141", "19143", "19145", "19147", "19149", "19151", 
                    "19153", "19155", "19157", "19159", "19161", "19163", "19165", "19167", "19169", "19171", 
                    "19173", "19175", "19177", "19179", "19181", "19183", "19185", "19187", "19189", "19191", 
                    "19193", "19195", "19197", "31043", "37007", "37021", "37023", "37025", "37039", "37043", 
                    "37045", "37071", "37075", "37087", "37089", "37099", "37109", "37113", "37115", "37119", 
                    "37149", "37161", "37167", "37173", "37175", "37179", "18019", "18043", "18061", "18143", 
                    "21001", "21003", "21005", "21007", "21009", "21011", "21013", "21017", "21019", "21021", 
                    "21023", "21025", "21027", "21029", "21031", "21033", "21035", "21039", "21041", "21043", 
                    "21045", "21047", "21049", "21051", "21053", "21055", "21057", "21059", "21061", "21063", 
                    "21065", "21067", "21069", "21071", "21073", "21075", "21079", "21083", "21085", "21087", 
                    "21089", "21091", "21093", "21095", "21097", "21099", "21101", "21103", "21105", "21107", 
                    "21109", "21111", "21113", "21115", "21117", "21119", "21121", "21123", "21125", "21127", 
                    "21129", "21131", "21133", "21135", "21137", "21139", "21141", "21143", "21145", "21147", 
                    "21149", "21151", "21153", "21155", "21157", "21159", "21161", "21163", "21165", "21167", 
                    "21169", "21171", "21173", "21175", "21177", "21179", "21181", "21183", "21185", "21187", 
                    "21189", "21191", "21193", "21195", "21197", "21199", "21201", "21203", "21205", "21207", 
                    "21209", "21211", "21213", "21215", "21217", "21219", "21221", "21223", "21225", "21227", 
                    "21229", "21231", "21233", "21235", "21237", "21239", "39087", "54011", "54099", "39005", "39007", "39019", "39029", "39035", "39043", "39055", "39067", 
                    "39075", "39077", "39085", "39093", "39099", "39103", "39133", "39151", "39153", "39155", 
                    "39157", "39169", "09001", "09003", "09005", "09007", "09009", "09011", "09013", "09015", 
                    "23001", "23003", "23005", "23007", "23009", "23011", "23013", "23015", "23017", "23019", 
                    "23021", "23023", "23025", "23027", "23029", "23031", "25001", "25003", "25005", "25007", 
                    "25009", "25011", "25013", "25015", "25017", "25019", "25021", "25023", "25025", "25027", 
                    "33001", "33003", "33005", "33007", "33009", "33011", "33013", "33015", "33017", "33019", 
                    "44001", "44003", "44005", "44007", "44009", "50005", "50009", "50017", "50019", "50023", 
                    "50025", "50027", "24001", "24003", "24510", "24005", "24009", "24011", "24013", "24015", 
                    "24019", "24021", "24023", "24025", "24027", "24029", "24035", "24039", "24037", "24041", 
                    "24043", "24045", "24047", "11001", "24017", "24031", "24033", "51510", "51013", "51043", 
                    "51047", "51600", "51059", "51610", "51061", "51630", "51099", "51107", "51683", "51685", 
                    "51153", "51177", "51179", "51187", "54003", "54037", "15001", "15003", "15005", "15007", 
                    "15009", "55015", "55029", "55059", "55071", "55079", "55087", "55089", "55101", "55117", 
                    "55127", "55131", "55133"




                ];
                

                var fips = feature.properties.STATE + feature.properties.COUNTY;

                if (fipsCodesPurple.includes(fips)) {
                    return {
                      color: 'purple',
                      weight: 0.5,
                      opacity: 0.5,
                      fillOpacity: 0.5
                    };
                  } else if (fipsCodesRed.includes(fips)) {
                    return {
                      color: '#ff0000',
                      weight: 0.5,
                      opacity: .2,
                      fillOpacity: 0.2
                    };
                  } else if (fipsCodesGreen.includes(fips)) {
                    return {
                      color: 'green',
                      weight: 0.5,
                      opacity: .2,
                      fillOpacity: 0.2
                    };
                  } else if (fipsCodesOrange.includes(fips)) {
                    return {
                      color: 'orange',
                      weight: 0.5,
                      opacity: .2,
                      fillOpacity: 0.2
                    };
                  } else if (fipsCodesMaroon.includes(fips)) {
                    return {
                      color: 'maroon',
                      weight: 0.5,
                      opacity: 0.2,
                      fillOpacity: 0.2
                    };
                  } else {
                    return {
                      color: '#3388ff',
                      weight: 0.5,
                      opacity: 0.2,
                      fillOpacity: 0
                    };
                  }
                }
        }).addTo(mymap);
    });



    

     

var walCIcon = L.icon({
    iconUrl: 'blue-pin.png',
    iconSize: [14, 14],
    iconAnchor: [16, 32],
    popupAnchor: [0, -32]
});

var okanoganMarker = L.marker([48.4112, -119.5228], { icon: walCIcon }).addTo(mymap);
okanoganMarker.bindPopup("<b>LifeCenter Northwest (green shaded counties) (Alaska, Washington, and Montana)</b><br><img src='WALC.JPG' alt='LifeCenter Northwest (green shaded counties)' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var denaliMarker = L.marker([63.5183, -149.5748], { icon: walCIcon }).addTo(mymap);
denaliMarker.bindPopup("<b>LifeCenter Northwest (green shaded counties) (Alaska, Washington, and Montana)</b><br><img src='WALC.JPG' alt='LifeCenter Northwest (green shaded counties)' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var brevardMarker = L.marker([28.2639, -80.7214], { icon: blueIcon }).addTo(mymap);
brevardMarker.bindPopup("<b>OurLegacy (red shaded counties)</b><br><img src='FLFH.JPG' alt='OurLegacy' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var frioMarker = L.marker([27.7428, -99.3493], { icon: walCIcon }).addTo(mymap);
frioMarker.bindPopup("<b>Texas Organ Sharing Alliance (green shaded counties)</b><br><img src='TXSA.jpg' alt='Texas Organ Sharing Alliance' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var southwestTransplantAllianceMarker = L.marker([31.5254, -105.3979], { icon: blueIcon }).addTo(mymap);
southwestTransplantAllianceMarker.bindPopup("<b>Southwest Transplant Alliance (red shaded counties)</b><br><img src='TXSB.JPG' alt='Southwest Transplant Alliance' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var potterMarker = L.marker([35.4038, -101.9018], { icon: bluePinIcon }).addTo(mymap);
potterMarker.bindPopup("<b>LifeGift Organ Donation Center (orange shaded counties)</b><br><img src='TXGC.JPG' alt='LifeGift Organ Donation Center' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var elDoradoMarker = L.marker([39.0626, -120.7244], { icon: bluePinIcon }).addTo(mymap);
elDoradoMarker.bindPopup("<b>Sierra Donor Services (purple shaded counties)</b><br><img src='CAGS.JPG' alt='Sierra Donor Services' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
       
});

var sanBernardinoMarker = L.marker([34.9592, -116.4194], { icon: bluePinIcon }).addTo(mymap);
sanBernardinoMarker.bindPopup("<b>OneLegacy (orange shaded counties)</b><br><img src='CAOP.JPG' alt='OneLegacy' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var bluePinMarker = L.marker([45.6079, -96.9481], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>LifeSource Upper Midwest Organ Procurement Organization (purple shaded counties)</b><br><img src='MNOP.jpg' alt='LifeSource Upper Midwest Organ Procurement Organization' style='max-width: 300px;'>").on('click', function () {
    this.openPopup();
});

var bluePinMarker = L.marker([38.1453, -94.7855], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Midwest Transplant Network (green shaded counties)</b><br><img src='MWOB.jpg' alt='Midwest Transplant Network' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([43.2394, -78.7478], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Upstate New York Transplant Services Inc (orange shaded counties)</b><br><img src='NYWN.JPG' alt='Upstate New York Transplant Services Inc' style='max-width: 300px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([43.0646, -118.7770], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Cascade Life Alliance (orange shaded counties)</b><br><img src='ORUO.JPG' alt='Cascade Life Alliance' style='max-width: 550px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([41.2607, -111.9522], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>DonorConnect (purple shaded counties)</b><br><img src='UTOP.JPG' alt='DonorConnect' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([40.0619, -86.4692], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Indiana Donor Network (purple shaded counties)</b><br><img src='INOP.JPG' alt='Indiana Donor Network' style='max-width: 200px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([41.7489, -89.2999], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Gift of Hope Organ & Tissue Donor Network (orange shaded counties)</b><br><img src='ILIP.jpg' alt='Gift of Hope Organ & Tissue Donor Network' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([34.6409, -105.9132], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>New Mexico Donor Services (green shaded counties)</b><br><img src='NMOP.JPG' alt='New Mexico Donor Services' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([35.9726, -85.8197], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Tennessee Donor Services (purple shaded counties)</b><br><img src='TNDS.JPG' alt='Tennessee Donor Services' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([32.8088, -83.6942], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>LifeLink of Georgia (orange shaded counties)</b><br><img src='GALL.JPG' alt='LifeLink of Georgia' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([35.2072, -97.3458], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>LifeShare Transplant Donor Services of Oklahoma (purple shaded counties)</b><br><img src='OKOP.jpg' alt='LifeShare Transplant Donor Services of Oklahoma' style='max-width: 500px;'>");
bluePinMarker.on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([41.8591, -99.6177], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Live On Nebraska (orange shaded counties)</b><br><img src='NEOR.JPG' alt='Live On Nebraska' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([30.2456, -85.6411], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>LifeQuest Organ Recovery Services (green shaded counties)</b><br><img src='FLUF.JPG' alt='LifeQuest Organ Recovery Services' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([33.6308, -79.6316], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>We Are Sharing Hope SC (green shaded counties)</b><br><img src='SCOP.JPG' alt='We Are Sharing Hope SC' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([37.0754, -77.6384], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>LifeNet Health (red shaded counties)</b><br><img src='VATB.JPG' alt='LifeNet Health' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([37.6247, -114.7456], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Nevada Donor Network (green shaded counties)</b><br><img src='NVLV.JPG' alt='Nevada Donor Network' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([34.5993, -112.5539], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Donor Network of Arizona (red shaded counties)</b><br><img src='AZOB.JPG' alt='Donor Network of Arizona' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});
var bluePinMarker = L.marker([30.2049, -92.0470], { icon: bluePinIcon }).addTo(mymap);
bluePinMarker.bindPopup("<b>Louisiana Organ Procurement Agency (purple shaded counties)</b><br><img src='LOPA.JPG' alt='Louisiana Organ Procurement Agency' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var scottCountyMarker = L.marker([32.3986, -89.5431], { icon: bluePinIcon }).addTo(mymap);
scottCountyMarker.bindPopup("<b>Mississippi Organ Recovery Agency (orange shaded counties)</b><br><img src='MSOP.JPG' alt='Mississippi Organ Recovery Agency' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});
var sarasotaCountyMarker = L.marker([27.1826, -82.3659], { icon: bluePinIcon }).addTo(mymap);
sarasotaCountyMarker.bindPopup("<b>LifeLink of Florida (purple shaded counties)</b><br><img src='FLWC.JPG' alt='LifeLink of Florida' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});

var monroeCountyMarker = L.marker([25.6523, -81.4307], { icon: bluePinIcon }).addTo(mymap);
monroeCountyMarker.bindPopup("<b>Life Alliance Organ Recovery Agency (orange shaded counties)</b><br><img src='FLMP.JPG' alt='Life Alliance Organ Recovery Agency' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var jeffersonCountyMarker = L.marker([38.2597, -88.9248], { icon: bluePinIcon }).addTo(mymap);
jeffersonCountyMarker.bindPopup("<b>Mid-America Transplant Services (red shaded counties)</b><br><img src='MOMA.JPG' alt='Mid-America Transplant Services' style='max-width: 700px;'>").on('click', function() {
  this.openPopup();

});

var grantMarker = L.marker([34.3000, -92.4000], { icon: bluePinIcon }).addTo(mymap);
grantMarker.bindPopup("<b>Arkansas Regional Organ Recovery Agency (maroon shaded counties)</b><br><img src='AROR.JPG' alt='Arkansas Regional Organ Recovery Agency' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var hardemanMarker = L.marker([35.2232, -88.9922], { icon: bluePinIcon }).addTo(mymap);
hardemanMarker.bindPopup("<b>Mid-South Transplant Foundation (green shaded counties)</b><br><img src='TNMS.JPG' alt='Mid-South Transplant Foundation' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});
var booneMarker = L.marker([42.0364, -93.9389], { icon: bluePinIcon }).addTo(mymap);
booneMarker.bindPopup("<b>Iowa Donor Network (maroon shaded counties)</b><br><img src='IAOP.JPG' alt='Iowa Donor Network' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var beaufortMarker = L.marker([35.4851, -76.8433], { icon: bluePinIcon }).addTo(mymap);
beaufortMarker.bindPopup("<b>HonorBridge (orange shaded counties)</b><br><img src='NCNC.JPG' alt='HonorBridge' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var rutherfordMarker = L.marker([35.3679, -81.9092], { icon: bluePinIcon }).addTo(mymap);
rutherfordMarker.bindPopup("<b>LifeShare Carolinas (maroon shaded counties)</b><br><img src='NCCM.JPG' alt='LifeShare Carolinas' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var washingtonMarker = L.marker([37.7623, -85.1616], { icon: bluePinIcon }).addTo(mymap);
washingtonMarker.bindPopup("<b>Kentucky Organ Donor Affiliates (maroon shaded counties)</b><br><img src='KYDA.JPG' alt='Kentucky Organ Donor Affiliates' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var clarkMarker = L.marker([43.9139, -90.6119], { icon: bluePinIcon }).addTo(mymap);
clarkMarker.bindPopup("<b>UW Health Organ and Tissue Donation (red shaded counties)</b><br><img src='WIUW.JPG' alt='UW Health Organ and Tissue Donation' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var crawfordMarker = L.marker([44.6659, -84.6191], { icon: bluePinIcon }).addTo(mymap);
crawfordMarker.bindPopup("<b>Gift of Life Michigan (green shaded counties)</b><br><img src='MIOP.JPG' alt='Gift of Life Michigan' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var henryMarker = L.marker([41.3325, -84.0672], { icon: bluePinIcon }).addTo(mymap);
henryMarker.bindPopup("<b>Life Connection Ohio (red shaded counties)</b><br><img src='OHLC.JPG' alt='Life Connection Ohio' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var perryMarker = L.marker([39.7328, -82.2267], { icon: bluePinIcon }).addTo(mymap);
perryMarker.bindPopup("<b>Lifeline of Ohio (orange shaded counties)</b><br><img src='OHLP.JPG' alt='Lifeline of Ohio' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});

var clintonMarker = L.marker([39.4252, -83.8437], { icon: bluePinIcon }).addTo(mymap);
clintonMarker.bindPopup("<b>LifeCenter Organ Donor Network (green shaded counties)</b><br><img src='OHOV.JPG' alt='LifeCenter Organ Donor Network' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});

var alleghenyMarker = L.marker([40.4680, -79.9526], { icon: bluePinIcon }).addTo(mymap);
alleghenyMarker.bindPopup("<b>Center for Organ Recovery and Education (green shaded counties)</b><br><img src='PATF.jpg' alt='Center for Organ Recovery and Education' style='max-width: 200px;'>").on('click', function () {
    this.openPopup();
});

var lakeMarker = L.marker([41.8240, -81.2077], { icon: bluePinIcon }).addTo(mymap);
lakeMarker.bindPopup("<b>Lifebanc (maroon shaded counties)</b><br><img src='OHLB.JPG' alt='Lifebanc' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});

var penobscotMarker = L.marker([45.3367, -68.7887], { icon: bluePinIcon }).addTo(mymap);
penobscotMarker.bindPopup("<b>New England Organ Bank (maroon shaded counties)</b><br><img src='MAOB.JPG' alt='New England Organ Bank' style='max-width: 600px;'>").on('click', function () {
    this.openPopup();
});

var suffolkMarker = L.marker([40.9849, -72.6151], { icon: bluePinIcon }).addTo(mymap);
suffolkMarker.bindPopup("<b>LiveOnNY (purple shaded counties)</b><br><img src='NYRT.JPG' alt='LiveOnNY' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var jeffersonMarker = L.marker([43.9766, -75.9115], { icon: bluePinIcon }).addTo(mymap);
jeffersonMarker.bindPopup("<b>Finger Lakes Donor Recovery Network (purple shaded counties)</b><br><img src='NYFL.JPG' alt='Finger Lakes Donor Recovery Network' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var schenectadyMarker = L.marker([42.8142, -74.0393], { icon: bluePinIcon }).addTo(mymap);
schenectadyMarker.bindPopup("<b>Center for Donation and Transplant (red shaded counties)</b><br><img src='NYAP.JPG' alt='Center for Donation and Transplant' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});

var cumberlandMarker = L.marker([39.3124, -75.2186], { icon: bluePinIcon }).addTo(mymap);
cumberlandMarker.bindPopup("<b>Gift of Life Donor Program (orange shaded counties)</b><br><img src='PADV.JPG' alt='Gift of Life Donor Program' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var montgomeryMarker = L.marker([39.1406, -77.2077], { icon: bluePinIcon }).addTo(mymap);
montgomeryMarker.bindPopup("<b>Infinite Legacy (maroon shaded counties)</b><br><img src='MDPC-DCTC.jpg' alt='Infinite Legacy' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var oceanMarker2 = L.marker([39.9278, -74.3004], { icon: bluePinIcon }).addTo(mymap);
oceanMarker2.bindPopup("<b>New Jersey Organ and Tissue Sharing Network (green shaded counties)</b><br><img src='NJTO.JPG' alt='New Jersey Organ and Tissue Sharing Network' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});
var hawaiiMarker = L.marker([19.5429, -155.6659], { icon: bluePinIcon }).addTo(mymap);
hawaiiMarker.bindPopup("<b>Legacy of Life Hawaii (maroon shaded counties)</b><br><img src='HIOP.JPG' alt='Legacy of Life Hawaii' style='max-width: 400px;'>").on('click', function () {
    this.openPopup();
});
var sheboyganMarker = L.marker([43.7356, -87.8338], { icon: bluePinIcon }).addTo(mymap);
sheboyganMarker.bindPopup("<b>Versiti Wisconsin, Inc (maroon shaded counties)</b><br><img src='WIDN.JPG' alt='Versiti Wisconsin, Inc' style='max-width: 500px;'>").on('click', function () {
    this.openPopup();
});

var gcsIcon = L.icon({
    iconUrl: 'GCS.png',
    iconSize: [16, 16],
});

var bsrIcon = L.icon({
    iconUrl: 'BSR.png',
    iconSize: [16, 16],
});

var starIcon = L.icon({
    iconUrl: 'star.PNG',
    iconSize: [16, 16],
});

var locations = [
    {
        coordinates: [33.4673, -92.1596],
        icon: gcsIcon,
        popupText: "Arkansas Regional Organ Recovery Agency uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [32.0974, -111.7890],
        icon: gcsIcon,
        popupText: "Donor Network of Arizona uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [38.1960, -120.6800],
        icon: gcsIcon,
        popupText: "Sierra Donor Services uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [35.3433, -118.7279],
        icon: gcsIcon,
        popupText: "OneLegacy uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [38.1126, -105.3122],
        icon: gcsIcon,
        popupText: "Donor Alliance uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [27.3862, -80.8891],
        icon: gcsIcon,
        popupText: "OurLegacy uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [24.7118, -81.0907],
        icon: gcsIcon,
        popupText: "Life Alliance Organ Recovery Agency uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [30.0521, -83.5818],
        icon: gcsIcon,
        popupText: "LifeQuest Organ Recovery Services uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [26.9010, -81.9446],
        icon: gcsIcon,
        popupText: "LifeLink of Florida uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [32.3912, -82.5920],
        icon: gcsIcon,
        popupText: "LifeLink of Georgia uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [19.5978, -155.5025],
        icon: gcsIcon,
        popupText: "Legacy of Life Hawaii uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [41.3308, -92.6484],
        icon: gcsIcon,
        popupText: "Iowa Donor Network uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [39.1962, -86.2510],
        icon: gcsIcon,
        popupText: "Indiana Donor Network uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [29.3613, -90.8225],
        icon: gcsIcon,
        popupText: "Louisiana Organ Procurement Agency uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [38.3673, -75.6075],
        icon: gcsIcon,
        popupText: "Infinite Legacy uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [43.9912, -84.8480],
        icon: gcsIcon,
        popupText: "Gift of Life Michigan uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [30.7841, -89.1315],
        icon: gcsIcon,
        popupText: "Mississippi Organ Recovery Agency uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [39.3592, -100.4414],
        icon: gcsIcon,
        popupText: "Midwest Transplant Network uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [36.1629, -80.6625],
        icon: gcsIcon,
        popupText: "HonorBridge uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [41.1508, -74.6911],
        icon: gcsIcon,
        popupText: "New Jersey Organ and Tissue Sharing Network OPO uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [35.0871, -107.8874],
        icon: gcsIcon,
        popupText: "New Mexico Donor Services uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [39.9434, -117.0705],
        icon: gcsIcon,
        popupText: "Nevada Donor Network uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [42.1912, -74.9645],
        icon: gcsIcon,
        popupText: "Center for Donation and Transplant uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [42.6352, -77.1068],
        icon: gcsIcon,
        popupText: "Finger Lakes Donor Recovery Network uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [40.7407, -73.5894],
        icon: gcsIcon,
        popupText: "LiveOnNY uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [42.2279, -79.3662],
        icon: gcsIcon,
        popupText: "Upstate New York Transplant Services Inc uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [41.1169, -84.5805],
        icon: gcsIcon,
        popupText: "Life Connection of Ohio uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [39.8930, -83.3751],
        icon: gcsIcon,
        popupText: "Lifeline of Ohio uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [39.1647, -84.9840],
        icon: gcsIcon,
        popupText: "LifeCenter Organ Donor Network uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [34.9248, -95.7988],
        icon: gcsIcon,
        popupText: "LifeShare Transplant Donor Services of Oklahoma uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [38.9155, -80.8499],
        icon: gcsIcon,
        popupText: "Center for Organ Recovery and Education uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [33.4428, -79.3767],
        icon: gcsIcon,
        popupText: "We Are Sharing Hope SC uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [35.9452, -84.9890],
        icon: gcsIcon,
        popupText: "Tennessee Donor Services uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [33.1777, -102.3343],
        icon: gcsIcon,
        popupText: "LifeGift Organ Donation Center uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [39.2055, -113.2308],
        icon: gcsIcon,
        popupText: "DonorConnect uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [37.2343, -80.4134],
        icon: gcsIcon,
        popupText: "LifeNet Health uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [45.4726, -92.4474],
        icon: gcsIcon,
        popupText: "UW Health Organ and Tissue Donation uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [43.0186, -87.9462],
        icon: gcsIcon,
        popupText: "Versiti Wisconsin, Inc uses a GCS score as a clinical trigger"
    },

    {
        coordinates: [31.8029, -85.9466],
        icon: bsrIcon,
        popupText: "Legacy of Hope uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [34.0522, -118.2437],
        icon: bsrIcon,
        popupText: "OneLegacy uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [40.6569, -123.1128],
        icon: bsrIcon,
        popupText: "Donor Network West uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [44.0447, -106.5944],
        icon: bsrIcon,
        popupText: "Donor Alliance uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [27.693, -80.6057],
        icon: bsrIcon,
        popupText: "OurLegacy uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [27.1749, -82.4073],
        icon: bsrIcon,
        popupText: "LifeLink of Florida uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [41.3308, -94.9292],
        icon: bsrIcon,
        popupText: "Iowa Donor Network uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [41.3579, -88.8568],
        icon: bsrIcon,
        popupText: "Gift of Hope Organ & Tissue Donor Network uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [37.4295, -83.6683],
        icon: bsrIcon,
        popupText: "Kentucky Organ Donor Affiliates uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [43.3705, -102.3357],
        icon: bsrIcon,
        popupText: "LifeSource Upper Midwest Organ Procurement Organization uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [37.1679, -91.4099],
        icon: bsrIcon,
        popupText: "Mid-America Transplant Services uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [37.7803, -100.4267],
        icon: bsrIcon,
        popupText: "Midwest Transplant Network uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [34.5177, -77.9069],
        icon: bsrIcon,
        popupText: "HonorBridge uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [41.1658, -98.0303],
        icon: bsrIcon,
        popupText: "Live On Nebraska uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [40.8580, -74.9956],
        icon: bsrIcon,
        popupText: "New Jersey Organ and Tissue Sharing Network OPO uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [42.5787, -74.9060],
        icon: bsrIcon,
        popupText: "Center for Donation and Transplant uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [43.2104, -77.0627],
        icon: bsrIcon,
        popupText: "Finger Lakes Donor Recovery Network uses brain stem reflexes as clinical triggers"
    },   
    
    {
        coordinates: [40.8832, -72.9376],
        icon: bsrIcon,
        popupText: "LiveOnNY uses brain stem reflexes as clinical triggers"
    },
    
    {
        coordinates: [42.2478, -78.6796],
        icon: bsrIcon,
        popupText: "Upstate New York Transplant Services Inc uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [41.1684, -81.2034],
        icon: bsrIcon,
        popupText: "Lifebanc uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [40.5418, -84.6231],
        icon: bsrIcon,
        popupText: "Life Connection of Ohio uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [43.9293, -122.7849],
        icon: bsrIcon,
        popupText: "Cascade Life Alliance uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [40.9139, -77.7967],
        icon: bsrIcon,
        popupText: "Gift of Life Donor Program uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [34.7791, -90.7806],
        icon: bsrIcon,
        popupText: "Mid-South Transplant Foundation uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [33.3019, -100.7436],
        icon: bsrIcon,
        popupText: "LifeGift Organ Donation Center uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [26.9886, -99.1049],
        icon: bsrIcon,
        popupText: "Texas Organ Sharing Alliance uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [31.3164, -103.6265],
        icon: bsrIcon,
        popupText: "Southwest Transplant Alliance uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [38.9962, -110.7534],
        icon: bsrIcon,
        popupText: "DonorConnect uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [48.4992, -115.6825],
        icon: bsrIcon,
        popupText: "LifeCenter Northwest uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [42.5883, -87.8228],
        icon: bsrIcon,
        popupText: "Versiti Wisconsin, Inc uses brain stem reflexes as clinical triggers"
    },

    {
        coordinates: [41.5420, -82.8410],
        icon: starIcon,
        popupText: "Life Connection of Ohio is a TOP 10 OPO"
    },

    {
        coordinates: [41.1072, -100.7676],
        icon: starIcon,
        popupText: "Live On Nebraska is a TOP 10 OPO"
    },

    {
        coordinates: [37.9344, -98.7203],
        icon: starIcon,
        popupText: "Midwest Transplant Network is a TOP 10 OPO"
    },

    {
        coordinates: [45.3301, -89.5109],
        icon: starIcon,
        popupText: "UW Health Organ and Tissue Donation is a TOP 10 OPO"
    },

    {
        coordinates: [37.4962, -114.9649],
        icon: starIcon,
        popupText: "Nevada Donor Network is a TOP 10 OPO"
    },

    {
        coordinates: [37.7785, -90.3968],
        icon: starIcon,
        popupText: "Mid-America Transplant Services is a TOP 10 OPO"
    },

    {
        coordinates: [38.6555, -84.6103],
        icon: starIcon,
        popupText: "LifeCenter Organ Donor Network is a TOP 10 OPO"
    },

    {
        coordinates: [40.3798, -76.8110],
        icon: starIcon,
        popupText: "Gift of Life Donor Program is a TOP 10 OPO"
    },

    {
        coordinates: [39.1782, -122.2339],
        icon: starIcon,
        popupText: "Sierra Donor Services is a TOP 10 OPO"
    },

    {
        coordinates: [28.4578, -81.3798],
        icon: starIcon,
        popupText: "OurLegacy is a TOP 10 OPO"
    }



];

locations.forEach(function(location) {
    var marker = L.marker(location.coordinates, { icon: location.icon }).addTo(mymap);
    marker.bindPopup("<b>" + location.popupText + "</b>").on('click', function () {
        this.openPopup();
    });
});